<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="https://puppetlabs.github.io/iac/feed.xml" rel="self" type="application/atom+xml" /><link href="https://puppetlabs.github.io/iac/" rel="alternate" type="text/html" /><updated>2020-06-04T02:13:04+00:00</updated><id>https://puppetlabs.github.io/iac/feed.xml</id><title type="html">Puppet IAC Team</title><subtitle>Team blog and list of maintained tools by and for the Puppet Infrastructure Automation Content Team.</subtitle><entry><title type="html">3rd April 2020: IAC Team Status Update</title><link href="https://puppetlabs.github.io/iac/team/status/2020/04/03/status-update.html" rel="alternate" type="text/html" title="3rd April 2020: IAC Team Status Update" /><published>2020-04-03T00:00:00+00:00</published><updated>2020-04-03T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/team/status/2020/04/03/status-update</id><content type="html" xml:base="https://puppetlabs.github.io/iac/team/status/2020/04/03/status-update.html">&lt;p&gt;The IAC team has been working on a lot of interesting things over the past week.
Here’s a brief overview of what we’ve been up to:&lt;/p&gt;

&lt;h2 id=&quot;covid-19&quot;&gt;COVID-19&lt;/h2&gt;
&lt;p&gt;We’ve now completed our 3rd week as a fully remote working team.
It seems like we’ve all adopted fairly well as it’s feeling like the “new normal”, insofar as normal can be during these unprecedented times.
One new addition to our team’s process is our Friday social chats.
We all down tools and chill out, chat, have a drink and play some games!
Often, the team members’ pets will make a welcome appearance. :)
We hope you, your friends, family and colleagues are continuing to weather the storm and that everyone is healthy and safe.
Puppet have been striving to &lt;a href=&quot;https://puppet.com/blog/covid-19-a-note-for-our-community/&quot;&gt;help our customers, community members, users and partners&lt;/a&gt; during this difficult time.
The IAC team continue to remain engaged with the always awesome Community to keep the conveyer belt of improvements moving!
Stay safe and well!&lt;/p&gt;

&lt;h2 id=&quot;new-module-releases-iac-team&quot;&gt;New Module Releases (IAC Team)&lt;/h2&gt;
&lt;p&gt;Let’s kick things off by highlighting some new module releases:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/firewall&quot;&gt;puppetlabs/firewall&lt;/a&gt; (v2.3.0)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/iis&quot;&gt;puppetlabs/iis&lt;/a&gt; (v7.0.1)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/ntp&quot;&gt;puppetlabs/ntp&lt;/a&gt; (v8.3.0)&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;puppetlabsiis-v701&quot;&gt;puppetlabs/iis v7.0.1&lt;/h4&gt;
&lt;p&gt;Thanks to &lt;a href=&quot;https://github.com/pillarsdotnet&quot;&gt;pillarsdotnet&lt;/a&gt; for &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-iis/pull/254&quot;&gt;his PR&lt;/a&gt; that fixed &lt;a href=&quot;https://tickets.puppetlabs.com/browse/MODULES-10419&quot;&gt;MODULES-10419&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;We’d also like to thank &lt;a href=&quot;https://github.com/johnrogers00&quot;&gt;johnrogers00&lt;/a&gt; for &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-iis/pull/272&quot;&gt;his fix&lt;/a&gt; and additional test coverage!&lt;/p&gt;

&lt;h2 id=&quot;new-module-releases-community&quot;&gt;New Module Releases (Community)&lt;/h2&gt;
&lt;p&gt;It’s great to see members outside of the IAC Team releasing new modules:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/zfs_core&quot;&gt;puppetlabs/zfs_core&lt;/a&gt; (v1.0.5)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://github.com/GabrielNagy&quot;&gt;GabrielNagy&lt;/a&gt; and &lt;a href=&quot;https://github.com/ciprianbadescu&quot;&gt;ciprianbadescu&lt;/a&gt; for their efforts to get this new version of &lt;a href=&quot;https://forge.puppet.com/puppetlabs/zfs_core&quot;&gt;zfs_core&lt;/a&gt; released.&lt;/p&gt;

&lt;h2 id=&quot;litmus-gem-v0181-release&quot;&gt;Litmus gem v0.18.1 release&lt;/h2&gt;
&lt;p&gt;We have released v0.18.1 of the &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus&quot;&gt;puppet_litmus gem&lt;/a&gt;.
There were quite a number of fixes that went in to &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md#v0180-2020-03-31&quot;&gt;v0.18.0&lt;/a&gt; and &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md#0181-2020-04-02&quot;&gt;v0.18.1&lt;/a&gt;, but a few highlights worth mentioning:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/tphoney&quot;&gt;tphoney&lt;/a&gt; added support for &lt;a href=&quot;https://github.com/puppetlabs/bolt&quot;&gt;Bolt&lt;/a&gt; v2!&lt;/li&gt;
  &lt;li&gt;We have been working with &lt;a href=&quot;https://github.com/jmangt&quot;&gt;jmangt&lt;/a&gt; to allow Litmus to &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/pull/260&quot;&gt;install modules from a private Forge repo&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;A &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md#fixed-1&quot;&gt;number of fixes&lt;/a&gt; from &lt;a href=&quot;https://github.com/DavidS&quot;&gt;DavidS&lt;/a&gt;, a fix from &lt;a href=&quot;https://github.com/findmyname666&quot;&gt;findmyname666&lt;/a&gt; and improvements to the docs from &lt;a href=&quot;https://github.com/clairecadman&quot;&gt;clairecadman&lt;/a&gt;!&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;supported-module-litmus-conversion&quot;&gt;Supported Module Litmus Conversion&lt;/h2&gt;
&lt;p&gt;On the topic of &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus&quot;&gt;Litmus&lt;/a&gt;, we’re continuing to make progress on the conversion of all supported modules to the framework:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/reboot&quot;&gt;puppetlabs/reboot&lt;/a&gt; is now running in the framework on most of the supported 33 compatible platforms; only a few more to go!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/satellite_pe_tools&quot;&gt;puppetlabs/satellite_pe_tools&lt;/a&gt; is progressing nicely!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/websphere_application_server&quot;&gt;puppetlabs/websphere_application_server&lt;/a&gt; is nearly complete and entering the review stage! We’ll hope to get this over the line very soon.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;After that, we’ll be moving on to &lt;a href=&quot;https://forge.puppet.com/puppetlabs/ibm_installation_manager&quot;&gt;puppetlabs/ibm_installation_manager&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;puppet--dsc&quot;&gt;Puppet + DSC&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/michaeltlombardi&quot;&gt;michaeltlombardi&lt;/a&gt; has continued to make excellent progress on our &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-41&quot;&gt;refactor of DSC support&lt;/a&gt; in Puppet.
To find out what we’re doing, the reasoning behind it and why we’re &lt;strong&gt;SUPER EXCITED&lt;/strong&gt; about this, check out &lt;a href=&quot;https://github.com/michaeltlombardi&quot;&gt;Michael’s&lt;/a&gt; &lt;a href=&quot;/iac/news/roadmap/2020/03/30/dsc-announcement.html&quot;&gt;earlier blog post&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;debugging-with-honeycomb&quot;&gt;Debugging with Honeycomb&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://honeycomb.io/&quot;&gt;Honeycomb&lt;/a&gt; continues to provide us interesting insights that guide us to problems lurking in our test infrastructure.
&lt;a href=&quot;https://github.com/DavidS&quot;&gt;dev_el_ops&lt;/a&gt; used the reported data/metrics to investigate an issue pointed out by &lt;a href=&quot;https://github.com/carabasdaniel&quot;&gt;carabasdaniel&lt;/a&gt;.
Check out &lt;a href=&quot;https://github.com/DavidS&quot;&gt;dev_el_ops’s&lt;/a&gt; &lt;a href=&quot;/iac/module/development/2020/03/30/debugging-unit-tests-with-honeycomb.html&quot;&gt;earlier blog post&lt;/a&gt; about it.&lt;/p&gt;</content><author><name>sanfrancrisko</name></author><category term="module updates" /><category term="community" /><category term="litmus" /><category term="testing" /><category term="dsc" /><category term="powershell" /><category term="windows" /><summary type="html">The IAC team has been working on a lot of interesting things over the past week. Here’s a brief overview of what we’ve been up to:</summary></entry><entry><title type="html">Debugging unit-tests with Honeycomb</title><link href="https://puppetlabs.github.io/iac/module/development/2020/03/30/debugging-unit-tests-with-honeycomb.html" rel="alternate" type="text/html" title="Debugging unit-tests with Honeycomb" /><published>2020-03-30T00:00:00+00:00</published><updated>2020-03-30T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/module/development/2020/03/30/debugging-unit-tests-with-honeycomb</id><content type="html" xml:base="https://puppetlabs.github.io/iac/module/development/2020/03/30/debugging-unit-tests-with-honeycomb.html">&lt;p&gt;Since &lt;a href=&quot;/iac/team/status/2020/03/27/status-update.html#litmus-progress&quot;&gt;last week&lt;/a&gt; we’re collecting unit-test results and acceptance test runs in &lt;a href=&quot;https://honeycomb.io/&quot;&gt;honeycomb&lt;/a&gt;, a tool for introspecting and interrogating production systems. In our team’s case, CI is the “production” environment we manage. Today Daniel pointed out that there was a curious issue with one of our test suites:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;NoMethodError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`message_lines' for #&amp;lt;RSpec::Core::Notifications::SkippedExampleNotification:0x00007f8407ac3018&amp;gt;
# /Users/danielcarabas/.rvm/gems/ruby-2.6.3/gems/rspec_honeycomb_formatter-0.2.0/lib/rspec_honeycomb_formatter.rb:95:in `&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example_pending&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That clearly rings a bell, but a trivial try at reproducing this using &lt;code class=&quot;highlighter-rouge&quot;&gt;pending&lt;/code&gt; brought up a weird issue:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;From&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/home/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;david&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rspec_honeycomb_formatter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rspec_honeycomb_formatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;rb&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;@&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;99&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;RSpecHoneycombFormatter&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#example_pending:&lt;/span&gt;

     &lt;span class=&quot;mi&quot;&gt;95&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;example_pending&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;notification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;mi&quot;&gt;96&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;vi&quot;&gt;@example_span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;add_field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'rspec.result'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'pending'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;mi&quot;&gt;97&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;vi&quot;&gt;@example_span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;add_field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;notification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;mi&quot;&gt;98&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;vi&quot;&gt;@example_span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;add_field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'rspec.description'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;notification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;99&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'pry'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;binding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;pry&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;vi&quot;&gt;@example_span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;add_field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'rspec.message'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strip_ansi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;notification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;message_lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;101&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;vi&quot;&gt;@example_span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;add_field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'rspec.backtrace'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;notification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;formatted_backtrace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;102&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;vi&quot;&gt;@example_span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;send&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;103&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;lt;RSpecHoneycombFormatter&amp;gt;)&amp;gt; notification.class&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;RSpec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Core&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Notifications&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PendingExampleFailedAsExpectedNotification&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;lt;RSpecHoneycombFormatter&amp;gt;)&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The class here is not the same as the initial report is complaining about.
And this does not fail.
&lt;code class=&quot;highlighter-rouge&quot;&gt;PendingExampleFailedAsExpectedNotification&lt;/code&gt; does have &lt;code class=&quot;highlighter-rouge&quot;&gt;message_lines&lt;/code&gt;.
Since the original report didn’t have any more information attached (and for the sake of the pacing of this blog post) I went to honeycomb to see if other modules were exhibiting the same problem.
After a couple of clicks this was what I had:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/iac/assets/2020-03-30-debugging-with-honeycomb/honeycomb-heatmap.png&quot; alt=&quot;honeycomb heatmap screenshot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The query selects by the error message and returns all examples with that error message.
Clearly this has been going on for a while.
Clicking through to the raw data I could jump to the full log of one of the runs:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/iac/assets/2020-03-30-debugging-with-honeycomb/honeycomb-raw-data.png&quot; alt=&quot;honeycomb raw data screenshot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Which brings us to &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-package/runs/544125013#step:3:445&quot;&gt;this failure on github actions&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;================&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;unlikely&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toxin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;delivery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;puppetlabs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;win&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2008&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x86_64&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;****&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;FFFFFF&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;Pending&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Failures&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;listed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;here&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expected&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;affect&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;your&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;suite&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'s status)

  1) package task install installs pry
     # Don'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Windows&lt;/span&gt;
     &lt;span class=&quot;no&quot;&gt;On&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`unlikely-toxin.delivery.puppetlabs.net'
     Failure/Error: @example_span.add_field('rspec.message', strip_ansi(notification.message_lines.join(&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&quot;)))
     NoMethodError:
       undefined method `&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_lines&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#&amp;lt;RSpec::Core::Notifications::SkippedExampleNotification:0x00007fe474773368&amp;gt;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This in turn I can look up in &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-package/blob/b7ff8d9a3982287f30a20111f86413b0350d20d6/spec/acceptance/init_spec.rb&quot;&gt;the source code&lt;/a&gt;.
I’m assuming the following clause is the issue:&lt;/p&gt;
&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Don't run on Windows&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;operating_system_fact&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'windows'&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Putting that into the manual test case quickly confirmed that this was indeed the problem.
After being able to reproduce this locally, it was a matter of poking pry to figure out what needs to be done about it.
The &lt;code class=&quot;highlighter-rouge&quot;&gt;SkippedExampleNotification&lt;/code&gt; doesn’t have a &lt;code class=&quot;highlighter-rouge&quot;&gt;message_lines&lt;/code&gt; method, and needs to be handled differently.
The result has been posted in the &lt;a href=&quot;https://github.com/puppetlabs/rspec_honeycomb_formatter/pull/10&quot;&gt;“Fix missing message_lines method” PR&lt;/a&gt; and should be merged and released by the time you read this post.&lt;/p&gt;

&lt;p&gt;Finally, to cross-check that this is the only problem we’ve been seeing, I’ve added a &lt;code class=&quot;highlighter-rouge&quot;&gt;rspec.message does-not-contain SkippedExampleNotification&lt;/code&gt; clause to the honeycomb query.
That new query did not return any results, increasing my confidence in having addressed all currently visible issues with the formatter.&lt;/p&gt;</content><author><name>dev_el_ops</name></author><category term="modules" /><category term="CI" /><category term="debugging" /><category term="testing" /><category term="honeycomb" /><summary type="html">Since last week we’re collecting unit-test results and acceptance test runs in honeycomb, a tool for introspecting and interrogating production systems. In our team’s case, CI is the “production” environment we manage. Today Daniel pointed out that there was a curious issue with one of our test suites:</summary></entry><entry><title type="html">DSC + Puppet: Incoming!</title><link href="https://puppetlabs.github.io/iac/news/roadmap/2020/03/30/dsc-announcement.html" rel="alternate" type="text/html" title="DSC + Puppet: Incoming!" /><published>2020-03-30T00:00:00+00:00</published><updated>2020-03-30T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/news/roadmap/2020/03/30/dsc-announcement</id><content type="html" xml:base="https://puppetlabs.github.io/iac/news/roadmap/2020/03/30/dsc-announcement.html">&lt;p&gt;As &lt;a href=&quot;https://github.com/glennsarti&quot;&gt;Glenn&lt;/a&gt; and I alluded to on the &lt;a href=&quot;https://player.fm/series/powerscripting-podcast/episode-334-powerscripting-podcast-glenn-sarti-michael-lombardi&quot;&gt;PowerScripting Podcast&lt;/a&gt;, our team has been hard at work re-envisioning how we want to present the DSC + Puppet story for our users.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-41&quot;&gt;Long story short&lt;/a&gt;, for lots of reasons, our &lt;a href=&quot;https://forge.puppet.com/puppetlabs/dsc&quot;&gt;original implementation&lt;/a&gt; for calling DSC resources from inside Puppet (shoutout to &lt;a href=&quot;https://github.com/msutter&quot;&gt;Marc Sutter&lt;/a&gt;, the initial implementer!) was getting fragile, stale, and maintenance costs kept rising.&lt;/p&gt;

&lt;p&gt;As a stop gap, we put together the &lt;a href=&quot;https://forge.puppet.com/puppetlabs/dsc_lite&quot;&gt;dsc_lite&lt;/a&gt; module for people to use which dropped the guardrails and help in exchange for letting you just get to work if you needed to use it.
Essentially the thinnest of wrappers over &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/psdesiredstateconfiguration/invoke-dscresource?view=powershell-7&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Invoke-DscResource&lt;/code&gt;&lt;/a&gt;, requiring you to get those resources onto the target and to pass an arbitrary hash of &lt;em&gt;hopefully&lt;/em&gt; correct properties to the DSC resource;
no way to tell if you goofed til run time.&lt;/p&gt;

&lt;p&gt;We made &lt;a href=&quot;https://forge.puppet.com/puppetlabs/dsc_lite&quot;&gt;dsc_lite&lt;/a&gt; for the DSC expert, &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-dsc_lite/blob/master/README_Tradeoffs.md&quot;&gt;basically&lt;/a&gt;.
But as time went on and we could no longer use our old builder to update our original module…
we were leaving a &lt;strong&gt;lot&lt;/strong&gt; of people in the cold with a less than stellar UX.&lt;/p&gt;

&lt;p&gt;So my team decided to change that story.&lt;/p&gt;

&lt;p&gt;We talked it out, &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-41&quot;&gt;planned some stuff&lt;/a&gt; and adopted &lt;a href=&quot;https://github.com/jpogran&quot;&gt;James Pogran&lt;/a&gt;’s INCREDIBLE &lt;a href=&quot;https://github.com/jpogran/PuppetDscBuilder&quot;&gt;prototype work&lt;/a&gt;—he did 80% of the initial work for this, basically all the hardest bits. 💜&lt;/p&gt;

&lt;h2 id=&quot;so-about-this-builder&quot;&gt;So, About This Builder&lt;/h2&gt;

&lt;p&gt;The &lt;a href=&quot;https://github.com/puppetlabs/PuppetDscBuilder&quot;&gt;whole thing&lt;/a&gt; is written in and relies on PowerShell, not Ruby.
The only non-PowerShell dependency is the &lt;a href=&quot;https://puppet.com/docs/pdk/1.x/pdk.html&quot;&gt;Puppet Development Kit&lt;/a&gt; for scaffolding the Puppet module out (no reason to re-implement that!)&lt;/p&gt;

&lt;p&gt;It builds on two important technologies:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The &lt;a href=&quot;https://puppet.com/docs/puppet/latest/about_the_resource_api.html&quot;&gt;resource_api&lt;/a&gt; (largely developed by &lt;a href=&quot;https://github.com/DavidS&quot;&gt;David Schmitt&lt;/a&gt;), makes writing Puppet types and providers &lt;em&gt;actually&lt;/em&gt; doable for people like me—the type file is just data, the provider adheres to a simple schema.&lt;/li&gt;
  &lt;li&gt;The &lt;a href=&quot;https://github.com/puppetlabs/ruby-pwsh/&quot;&gt;ruby-pwsh&lt;/a&gt; gem, based on work by numerous members of the former Windows team at Puppet:
&lt;a href=&quot;https://github.com/glennsarti&quot;&gt;Glenn Sarti&lt;/a&gt;, &lt;a href=&quot;https://github.com/jpogran&quot;&gt;James Pogran&lt;/a&gt;, &lt;a href=&quot;https://github.com/Iristyle&quot;&gt;Ethan Brown&lt;/a&gt;, &lt;a href=&quot;https://github.com/RandomNoun7&quot;&gt;Bill Hurt&lt;/a&gt;, &lt;a href=&quot;https://github.com/ThoughtCrhyme&quot;&gt;Erick Banks&lt;/a&gt;, &lt;a href=&quot;https://github.com/ferventcoder&quot;&gt;Rob Reynolds&lt;/a&gt;, and me.
This gem is a library that gives you a &lt;a href=&quot;https://github.com/puppetlabs/ruby-pwsh/blob/master/DESIGN.md&quot;&gt;PowerShell manager&lt;/a&gt;, enabling you to interop between PowerShell &amp;amp; Ruby.
That lets us take advantage of having a PowerShell host process and not shell out for every command.
It’s &lt;em&gt;much&lt;/em&gt; faster and paves the way for some really cool improvements.
It’s also what powers all of our Puppet modules which rely heavily on PowerShell calls!&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This builder scaffolds a new Puppet module, vendors a PowerShell module from the Gallery (&lt;em&gt;with&lt;/em&gt; dependencies), introspects that module for DSC resources, then generates a Puppet resource_api type and provider for each DSC resource.&lt;/p&gt;

&lt;p&gt;It has a &lt;a href=&quot;https://github.com/puppetlabs/PuppetDscBuilder/blob/c5d349f51883abcca926a0dc6be465a037dfe957/Get-DscResourceTypeInformation.ps1&quot;&gt;helper function&lt;/a&gt; which desperately needs refactoring but which parses the &lt;a href=&quot;https://mikefrobbins.com/2018/09/28/learning-about-the-powershell-abstract-syntax-tree-ast/&quot;&gt;AST&lt;/a&gt; for the DSC resource’s source file (if it can) to retrieve the reference docs, default values, and whether the parameter is mandatory for get/set operations.
If it &lt;em&gt;can’t&lt;/em&gt; parse the AST (as with binary/class-based DSC resources in this iteration) it still works–
it just won’t have the reference docs and will rely on the best info it can find in the output from &lt;a href=&quot;https://docs.microsoft.com/en-us/powershell/module/psdesiredstateconfiguration/get-dscresource?view=powershell-7&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Get-DscResource&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Okay, &lt;em&gt;fine&lt;/em&gt;, &lt;em&gt;&lt;strong&gt;weeeee&lt;/strong&gt;&lt;/em&gt;, it &lt;a href=&quot;https://github.com/puppetlabs/PuppetDscBuilder/files/4395886/michaeltlombardi-powershellget-0.1.0.tar.gz&quot;&gt;builds a module&lt;/a&gt;, great.
But what does using it look like?
I’m glad you asked.
First of all, here’s what a very basic manifest using a &lt;a href=&quot;https://github.com/puppetlabs/PuppetDscBuilder/files/4395886/michaeltlombardi-powershellget-0.1.0.tar.gz&quot;&gt;puppetized module&lt;/a&gt; looks like–in this case, &lt;a href=&quot;https://www.powershellgallery.com/packages/PowerShellGet/2.2.3&quot;&gt;PowerShellGet&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-puppet highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dsc_psrepository&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Add team shared module folder as a repository'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;py&quot;&gt;dsc_name&lt;/span&gt;               &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'foo'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;py&quot;&gt;dsc_ensure&lt;/span&gt;             &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;present&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# This location is nonsense, can be any valid folder on your
&lt;/span&gt;    &lt;span class=&quot;c&quot;&gt;# machine or in a share, any location the SourceLocation param
&lt;/span&gt;    &lt;span class=&quot;c&quot;&gt;# for the DSC resource will accept.
&lt;/span&gt;    &lt;span class=&quot;py&quot;&gt;dsc_sourcelocation&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'C:\Program Files'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;py&quot;&gt;dsc_installationpolicy&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;untrusted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;dsc_psrepository&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Trust the PowerShell Gallery'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;py&quot;&gt;dsc_name&lt;/span&gt;               &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'PSGallery'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;py&quot;&gt;dsc_ensure&lt;/span&gt;             &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;present&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;py&quot;&gt;dsc_installationpolicy&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trusted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;dsc_psmodule&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Ensure Ruby is Manageable via uru'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;py&quot;&gt;dsc_name&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'RubyInstaller'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;py&quot;&gt;dsc_ensure&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;absent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And, well? It works! It’s idempotent! And, much more interestingly from my perspective, it gives you property-by-property reporting for your DSC resources–it knows what the state of the resource is on your node before it calls the Set method for Invoke-DscResource…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/iac/assets/2020-03-30-dsc-announcement/property-rep.png&quot; alt=&quot;Puppet run output reading &amp;quot;dsc_sourcelocation changed 'C:\code\temp' to 'C:\Program Files'&amp;quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So it can actually tell you &lt;em&gt;what changed&lt;/em&gt; during the run and when.
In other words, DSC resources in this implementation now report &lt;strong&gt;just&lt;/strong&gt; like any other Puppet resource.&lt;/p&gt;

&lt;p&gt;That’s pretty neat!!&lt;/p&gt;

&lt;p&gt;What else do you get?
Intellisense and some other awesome magic!
Thanks to the &lt;a href=&quot;https://puppet-vscode.github.io/&quot;&gt;VSCode extension&lt;/a&gt; maintained by &lt;a href=&quot;https://github.com/jpogran&quot;&gt;James Pogran&lt;/a&gt; and &lt;a href=&quot;https://github.com/glennsarti&quot;&gt;Glenn Sarti&lt;/a&gt;—in this screenshot, the editor is aware of all the parameters you might select, what their type is, and the valid values!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/iac/assets/2020-03-30-dsc-announcement/intellisense.jfif&quot; alt=&quot;Image displaying intellisense capabilities of the VSCode extension where it is predicting which parameters to use and displaying their help information inline in the editor.&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Aside:&lt;/strong&gt;
You &lt;em&gt;are&lt;/em&gt; writing your Puppet code in VSCode with the &lt;a href=&quot;https://puppet-vscode.github.io/&quot;&gt;Puppet extension&lt;/a&gt; installed, aren’t you?
You’re taking advantage of the &lt;a href=&quot;https://puppet-vscode.github.io/docs/features/intellisense&quot;&gt;intellisense&lt;/a&gt;, &lt;a href=&quot;https://puppet-vscode.github.io/docs/features/code-navigation&quot;&gt;code navigation&lt;/a&gt;, &lt;a href=&quot;https://puppet-vscode.github.io/docs/features/linting&quot;&gt;auto linting&lt;/a&gt;, &lt;a href=&quot;https://puppet-vscode.github.io/docs/features/debugging-puppet-code&quot;&gt;debugging&lt;/a&gt;, and the &lt;a href=&quot;https://puppet-vscode.github.io/docs/features/puppet-development-kit&quot;&gt;PDK&lt;/a&gt;, &lt;a href=&quot;https://puppet-vscode.github.io/docs/features/puppet-bolt&quot;&gt;Bolt&lt;/a&gt;, &amp;amp; &lt;a href=&quot;https://puppet-vscode.github.io/docs/features/control-repository&quot;&gt;Control Repo&lt;/a&gt; integrations… right??&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;so-it-works-what-next&quot;&gt;So It Works. What Next?&lt;/h2&gt;

&lt;p&gt;We still have some testing and a host of improvements to make (including probably swapping our template engine out, shout out to &lt;a href=&quot;https://github.com/FriedrichWeinmann&quot;&gt;Fred Weinmann&lt;/a&gt; for the &lt;a href=&quot;https://psframework.org/documentation/documents/psmoduledevelopment/templates.html&quot;&gt;templating engine&lt;/a&gt; in the &lt;a href=&quot;https://github.com/PowershellFrameworkCollective/PSModuleDevelopment&quot;&gt;PSModuleDevelopment&lt;/a&gt; module), but the next big step—and likely the last I’ll be involved with before my paternity leave hits—is &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-648&quot;&gt;turning this build script into a PowerShell module and adding testing to it&lt;/a&gt;.
It &lt;em&gt;works&lt;/em&gt; as a build script, but it can definitely be improved.
And, okay, a module on the Gallery is great and all…&lt;/p&gt;

&lt;p&gt;But the &lt;strong&gt;really cool&lt;/strong&gt; end-user magic will arrive in the &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-649&quot;&gt;third phase&lt;/a&gt;, where we hope to be able to automatically build and publish Puppet modules that 1:1 wrap PowerShell modules with DSC resources and expose them as Puppet types and providers!&lt;/p&gt;

&lt;p&gt;We’re envisioning a future where not only can you Puppetize any DSC-Resource-having-module you want for yourself, but you can just find all of the modules publicly available on the Gallery already wrapped up and ready for you on the Puppet Forge!&lt;/p&gt;

&lt;h2 id=&quot;caveats-and-warnings&quot;&gt;Caveats and Warnings&lt;/h2&gt;

&lt;p&gt;We’re &lt;em&gt;just&lt;/em&gt; wrapping the underlying DSC resources and making them available to you.
If there’s a problem &lt;em&gt;calling&lt;/em&gt; the DSC resources from Puppet, we’ll work on it, but if there’s a problem with &lt;em&gt;how&lt;/em&gt; those resources behave, that’s upstream.&lt;/p&gt;

&lt;p&gt;Our team is full of lovely humans who do incredible amounts of work (seven people for &lt;a href=&quot;https://puppetlabs.github.io/community_management/&quot;&gt;&amp;gt;250 PRs/month, ~50 supported modules&lt;/a&gt;, &lt;a href=&quot;https://puppetlabs.github.io/iac/tools/&quot;&gt;over a dozen open source tools&lt;/a&gt;, contributing to dozens more) but we can’t adopt &amp;gt; 300 DSC modules too. 💔&lt;/p&gt;

&lt;p&gt;We’ll also continue to improve the underlying provider and build system, of course, and are excited to get the output modules fully functional for PowerShell 7+ - meaning they’ll be cross-platform compatible if the underlying resources are!
This first prototype is just 5.1 though.&lt;/p&gt;

&lt;h2 id=&quot;wrapping-up-call-to-action&quot;&gt;Wrapping Up, Call to Action&lt;/h2&gt;

&lt;p&gt;So! If you’re interested in the work so far, you can &lt;a href=&quot;https://github.com/puppetlabs/PuppetDscBuilder&quot;&gt;check it out on GitHub&lt;/a&gt;–
the &lt;a href=&quot;https://github.com/puppetlabs/PuppetDscBuilder/pull/1&quot;&gt;latest PR&lt;/a&gt; includes functional instructions for testing the new builder or just &lt;a href=&quot;https://github.com/puppetlabs/PuppetDscBuilder/files/4395886/michaeltlombardi-powershellget-0.1.0.tar.gz&quot;&gt;grabbing the test module&lt;/a&gt; and playing with it in your own lab!&lt;/p&gt;

&lt;p&gt;We wanna tighten the loop and ensure we’re solving your problems with this rework because the &lt;em&gt;whole point&lt;/em&gt; is to make your lives easier if you’re using Puppet and DSC.
We’re here to help you get your configuration under control and free you up to do all the other hard work you have on your backlog.&lt;/p&gt;

&lt;p&gt;With that in mind, we would love your feedback, so if this tickles your interest at all, please &lt;a href=&quot;mailto:dsc@puppet.com&quot;&gt;email us&lt;/a&gt; (&lt;a href=&quot;mailto:dsc@puppet.com&quot;&gt;dsc@puppet.com&lt;/a&gt;) or comment below and let us know:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;What are the top three PowerShell modules with DSC resources you’d like to see Puppetized?&lt;/li&gt;
  &lt;li&gt;Are you interested in joining our beta test group for this ongoing project?&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;If you just wanna keep an eye on things, you can follow the repository on GitHub and the &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-41&quot;&gt;parent epic in JIRA&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Thanks, folx!&lt;/p&gt;</content><author><name>michaeltlombardi</name></author><category term="powershell" /><category term="dsc" /><category term="windows" /><summary type="html">As Glenn and I alluded to on the PowerScripting Podcast, our team has been hard at work re-envisioning how we want to present the DSC + Puppet story for our users.</summary></entry><entry><title type="html">27th March 2020: IAC Team Status Update</title><link href="https://puppetlabs.github.io/iac/team/status/2020/03/27/status-update.html" rel="alternate" type="text/html" title="27th March 2020: IAC Team Status Update" /><published>2020-03-27T00:00:00+00:00</published><updated>2020-03-27T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/team/status/2020/03/27/status-update</id><content type="html" xml:base="https://puppetlabs.github.io/iac/team/status/2020/03/27/status-update.html">&lt;p&gt;The IAC team has been working on a lot of interesting things over the past week.
Here’s a brief overview of what we’ve been up to:&lt;/p&gt;

&lt;h2 id=&quot;covid-19&quot;&gt;COVID-19&lt;/h2&gt;

&lt;p&gt;Altough this situation affects all of us, we do our best to continue the good work. We chose to stay home in order to protect the community and stop the spread of the virus. We all miss the office and the chats about the weather next to the coffee machine, but here we have some friends, who are happy that we work remote:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/iac/assets/2020-03-27-status-update/collage.jpg&quot; alt=&quot;Happy Friends&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Read &lt;a href=&quot;https://puppet.com/blog/covid-19-a-note-for-our-community/&quot;&gt;Puppet’s blog: COVID-19&lt;/a&gt; for the official statement.&lt;/p&gt;

&lt;h2 id=&quot;updates-to-puppet-modules&quot;&gt;Updates to Puppet Modules&lt;/h2&gt;

&lt;p&gt;Over the last week we have released:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/translate&quot;&gt;puppetlabs/translate&lt;/a&gt; (v2.2.0)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/firewall&quot;&gt;puppetlabs/firewall&lt;/a&gt; (v2.3.0)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;community&quot;&gt;Community&lt;/h2&gt;

&lt;p&gt;Puppet Community was always a part of our team and we always appreciate the contributions you bring.
Thank you, folks! Here are a few highlights of this week:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-postgresql/pull/1156&quot;&gt;puppetlabs-postgresql#1156&lt;/a&gt; by &lt;a href=&quot;https://github.com/veninga&quot;&gt;veninga&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-firewall/pull/908&quot;&gt;puppetlabs-firewall#908&lt;/a&gt; by &lt;a href=&quot;https://github.com/jbro&quot;&gt;jbro&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-postgresql/pull/1158&quot;&gt;puppetlabs-postgresql#1158&lt;/a&gt; by &lt;a href=&quot;https://github.com/XnS&quot;&gt;XnS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We look forward to see your new contributions to Puppet modules.&lt;/p&gt;

&lt;h2 id=&quot;customer-escalations&quot;&gt;Customer Escalations&lt;/h2&gt;

&lt;p&gt;By popular request, the team started work on the &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-panos&quot;&gt;Palo Alto Networks module&lt;/a&gt; to add support for virtual systems (check out &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-panos/pull/119&quot;&gt;the PR&lt;/a&gt; for more details).&lt;/p&gt;

&lt;h2 id=&quot;dsc-rework&quot;&gt;DSC Rework&lt;/h2&gt;

&lt;p&gt;We’ve started work on re-architecting and revitalizing our DSC builder (check out &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-41&quot;&gt;IAC-41&lt;/a&gt; for some details!) based on prototype work by &lt;a href=&quot;https://github.com/jpogran&quot;&gt;James Pogran&lt;/a&gt;. In short, this project is aiming to provide a PowerShell module for Puppetizing DSC resources, complete with intellisense, help, and guardrails.
A bit further out and we’ll have a new namespace on the forge - dsc - where we’ll publish these automatically generated modules as 1:1 matches for the PowerShell modules with DSC resources on the &lt;a href=&quot;https://www.powershellgallery.com/packages&quot;&gt;PowerShellGallery&lt;/a&gt;!
We’re working hard right now to pull the prototype across the last couple of miles to get an MVP for testing - if you’re interested in beta testing this project with us, please reach out on &lt;a href=&quot;https://slack.puppet.com/&quot;&gt;slack in #windows&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;litmus-progress&quot;&gt;Litmus Progress&lt;/h2&gt;

&lt;p&gt;On &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus&quot;&gt;Litmus&lt;/a&gt;, the team had a productive week.
We managed to fix some bugs that you can check out &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/pull/271&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/pull/272&quot;&gt;here&lt;/a&gt;.
Also, now we are able to capture more information for &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/pull/264&quot;&gt;honeycomb&lt;/a&gt;.
Part of that is due to the new &lt;a href=&quot;https://github.com/puppetlabs/rspec_honeycomb_formatter&quot;&gt;rspec_honeycomb_formatter&lt;/a&gt; that let’s you post all your examples and results to honeycomb.&lt;/p&gt;

&lt;p&gt;The last few of modules where the acceptance tests need converting to Litmus are now in progress:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/websphere_application_server&quot;&gt;puppetlabs/websphere_application_server&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/satellite_pe_tools&quot;&gt;puppetlabs/satellite_pe_tools&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/reboot&quot;&gt;puppetlabs-reboot&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/ibm_installation_manager&quot;&gt;puppetlabs-ibm_installation_manager&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you’re interested in converting a module to Litmus, feel free to get in touch with us during &lt;a href=&quot;https://puppet.com/community/office-hours/&quot;&gt;Office Hours&lt;/a&gt; or use the &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/wiki/Converting-a-module-to-use-Litmus&quot;&gt;documentation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Final litmus note: we did the work already a few weeks ago, but now closed &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-560&quot;&gt;the ticket&lt;/a&gt;: we’re now using the &lt;a href=&quot;https://github.com/puppetlabs/litmusimage&quot;&gt;litmusimage&lt;/a&gt; docker images in all our testing.
They are regularly autogenerated and accept community contributions.&lt;/p&gt;

&lt;h2 id=&quot;live-from-the-action&quot;&gt;Live from the Action&lt;/h2&gt;

&lt;p&gt;If you want to learn new things or just improve your skills, our team member &lt;a href=&quot;https://github.com/DavidS&quot;&gt;David Schmitt&lt;/a&gt; has a &lt;a href=&quot;https://www.twitch.tv/dev_el_ops&quot;&gt;lot of cookies&lt;/a&gt;.
You can read about &lt;a href=&quot;https://club.black.co.at/log/posts/2020-03-22-my-new-life-as-streamer/index.html&quot;&gt;his technical setup&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;welcome-to-the-team&quot;&gt;Welcome to the team!&lt;/h2&gt;

&lt;p&gt;We started the week with a new team member. His name is Adrian Iurca and he also loves pets. We are so excited about having you on our team! Good luck and welcome aboard !&lt;/p&gt;

&lt;h2 id=&quot;happy-5-years-work-anniversary-david-schmitt&quot;&gt;Happy 5 years work anniversary, David Schmitt!&lt;/h2&gt;

&lt;p&gt;He has been an essential part of our team’s journey and success. We are grateful for the dedication and passion you have shown. Thank you for being with us. Happy Work Anniversary!&lt;/p&gt;

&lt;h2 id=&quot;other-things&quot;&gt;Other things&lt;/h2&gt;

&lt;p&gt;Today we’ll have our first virtual team lunch.&lt;/p&gt;</content><author><name>daianamezdrea</name></author><category term="module updates" /><category term="community" /><category term="litmus" /><category term="facter" /><category term="testing" /><category term="pdk" /><summary type="html">The IAC team has been working on a lot of interesting things over the past week. Here’s a brief overview of what we’ve been up to:</summary></entry><entry><title type="html">20th March 2020: IAC Team Status Update</title><link href="https://puppetlabs.github.io/iac/team/status/2020/03/20/status-update.html" rel="alternate" type="text/html" title="20th March 2020: IAC Team Status Update" /><published>2020-03-20T00:00:00+00:00</published><updated>2020-03-20T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/team/status/2020/03/20/status-update</id><content type="html" xml:base="https://puppetlabs.github.io/iac/team/status/2020/03/20/status-update.html">&lt;p&gt;The IAC team has been working on a lot of interesting things over the past week.
Here’s a brief overview of what we’ve been up to:&lt;/p&gt;

&lt;h2 id=&quot;covid-19&quot;&gt;COVID-19&lt;/h2&gt;
&lt;p&gt;Read &lt;a href=&quot;https://puppet.com/blog/covid-19-a-note-for-our-community/&quot;&gt;Puppet’s blog: COVID-19&lt;/a&gt; for the official statement.
Puppet provided remote working for all employees to support COVID-19.
This precautionary measure has been taken in order to keep everyone healthy and limit the spread of the virus.&lt;/p&gt;

&lt;p&gt;The company supports employees by giving them all the essentials to work remotely and it also appreciates the fact that remote working requires everyone to adjust their working styles.
It may not be smooth for everyone, but the company is doing its best to support all the employees during this challenging time.&lt;/p&gt;

&lt;p&gt;So far, everyone is well equipped to work remotely to their best.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/iac/assets/2020-03-20-status-update/remote_working.jpg&quot; alt=&quot;Remote Working&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;updates-to-puppet-modules&quot;&gt;Updates to Puppet Modules&lt;/h2&gt;

&lt;p&gt;Over the last week we have released:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/postgresql&quot;&gt;puppetlabs/postgresql&lt;/a&gt; (v6.4.0)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/rook&quot;&gt;puppetlabs/rook&lt;/a&gt; (v0.4.0)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;facter-4-testing&quot;&gt;Facter 4 Testing&lt;/h2&gt;

&lt;p&gt;The Ghost team tested our modules with Facter 4 using pdksync.
Except for the Apache module, all modules passed Facter 4 testing.
(apache failed because of a custom fact in https://github.com/gentoo/puppet-portage.git).
Thanks alot to &lt;a href=&quot;https://github.com/florindragos&quot;&gt;Florin Dragos&lt;/a&gt;, &lt;a href=&quot;https://github.com/IrimieBogdan&quot;&gt;Bogdan Irimie&lt;/a&gt;, &lt;a href=&quot;https://github.com/oanatmaria&quot;&gt;Oana Tanasoiu&lt;/a&gt;, &lt;a href=&quot;https://github.com/sebastian-miclea&quot;&gt;Sebastian Miclea&lt;/a&gt;, &lt;a href=&quot;https://github.com/gimmyxd&quot;&gt;Gheorghe Popescu&lt;/a&gt;, &lt;a href=&quot;https://github.com/Filipovici-Andrei&quot;&gt;Andrei Filipovici&lt;/a&gt; for all the help on module testing and the fixes.&lt;/p&gt;

&lt;h2 id=&quot;community&quot;&gt;Community&lt;/h2&gt;

&lt;p&gt;As always we have been working with the brilliant Puppet Community to get their changes in to the modules.
A few highlights this week:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-postgresql/pull/1150&quot;&gt;puppetlabs-postgresql#1150&lt;/a&gt;: A pleasure working with &lt;a href=&quot;https://github.com/olifre&quot;&gt;olifre&lt;/a&gt; to get this fix he authored over the line.
Kudos on the first RSpec test!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-docker/pull/586&quot;&gt;puppetlabs-docker#586&lt;/a&gt;: Many thanks to &lt;a href=&quot;https://github.com/fe80&quot;&gt;fe80&lt;/a&gt; for this fix!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-inifile/pull/387&quot;&gt;puppetlabs-inifile#387&lt;/a&gt;: &lt;a href=&quot;https://github.com/alexjfisher&quot;&gt;alexjfisher&lt;/a&gt; continues his never ending streak of great contributions!&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-chocolatey/pull/206&quot;&gt;puppetlabs-chocolatey#206&lt;/a&gt; is a WIP PR put up by &lt;a href=&quot;https://github.com/nmaludy&quot;&gt;nmaludy&lt;/a&gt; doing the hard and valuable work of adding Bolt tasks to the Chocolatey module!&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;development-infrastructure&quot;&gt;Development Infrastructure&lt;/h2&gt;

&lt;p&gt;There’s been plenty keeping us busy in our CI infrastructure this week:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;the Puppet repositories removed unencrypted HTTP access before all tooling upgrades were in place, breaking puppet 5 agent installs in our pipelines.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It was a good lesson how with so many products spanning so many repositories, even with the best foresight from all parties, there can be unforeseen knock on effects from a code change.
When we discovered the root cause of the issues preventing the Puppet 5 agent installing on some older Linux systems, the Agent team were quick off the mark to address our issues.
We’d like to thank the Agent team for their responsiveness in addressing issues that were causing CI test run failures.
Thanks &lt;a href=&quot;https://github.com/ciprianbadescu&quot;&gt;ciprianbadescu&lt;/a&gt;, &lt;a href=&quot;https://github.com/lucywyman&quot;&gt;lucywyman&lt;/a&gt;, beechtom](https://github.com/beechtom), &lt;a href=&quot;https://github.com/underscorgan&quot;&gt;underscorgan&lt;/a&gt;, &lt;a href=&quot;https://github.com/e-gris&quot;&gt;e-gris&lt;/a&gt;, &lt;a href=&quot;https://github.com/GabrielNagy&quot;&gt;GabrielNagy&lt;/a&gt; and &lt;a href=&quot;https://github.com/sarameisburger&quot;&gt;sarameisburger&lt;/a&gt;!
This has been an interesting issue.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the NTP module started failing in travis: &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-ntp/pull/566&quot;&gt;puppetlabs-ntp#566&lt;/a&gt;.
&lt;a href=&quot;https://github.com/DavidS&quot;&gt;DavidS&lt;/a&gt; and &lt;a href=&quot;https://github.com/carabasdaniel&quot;&gt;carabasdaniel&lt;/a&gt; worked on &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-615&quot;&gt;IAC-615&lt;/a&gt; and tried to analyse it,
but the only thing that helped was bumping the build runner to bionic.
Curiosity will likely get the better of us and we’ll want to know why these failures occurred on xenial.
Check out &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-615&quot;&gt;the ticket&lt;/a&gt; if you’re interested or have any ideas.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;customer-escalations&quot;&gt;Customer Escalations&lt;/h2&gt;

&lt;p&gt;Over the past week we have closed out an issue on the &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-stdlib&quot;&gt;puppetlabs-stdlib&lt;/a&gt; module.
As a result of &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-547&quot;&gt;this ticket&lt;/a&gt; we have decided to remove strftime from stdlib as it has already been deprecated and superseded by a function within the Puppet agent.&lt;/p&gt;

&lt;h2 id=&quot;powershell-podcast&quot;&gt;PowerShell podcast&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/glennsarti&quot;&gt;Glenn Sarti&lt;/a&gt; and &lt;a href=&quot;https://github.com/michaeltlombardi&quot;&gt;Michael T Lombardi&lt;/a&gt; appeared on the &lt;a href=&quot;https://www.youtube.com/watch?v=Xirv6WQFmSs&amp;amp;feature=emb_logo&quot;&gt;PowerScripting Podcast&lt;/a&gt; to talk about puppet and PowerShell.
Check it out!&lt;/p&gt;

&lt;h2 id=&quot;community-reports-tool&quot;&gt;Community Reports Tool&lt;/h2&gt;

&lt;p&gt;Community reports tool is enhanced with an additional feature to report the PRs from tools maintained by the IAC team.
See the &lt;a href=&quot;https://puppetlabs.github.io/community_management/&quot;&gt;Tools Report&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;litmus-progress&quot;&gt;Litmus Progress&lt;/h2&gt;

&lt;p&gt;On &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-docker&quot;&gt;puppetlabs-docker&lt;/a&gt; we have finished the conversion to allow users to run acceptance tests using Litmus in &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-docker/pull/585&quot;&gt;puppetlabs-docker#585&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;process-improvement&quot;&gt;Process Improvement&lt;/h2&gt;

&lt;p&gt;We are continously improving the Triage process - one change made recently has proven to be very beneficial. At the end of our rotation, we will hand off to our colleagues who are next up on Triage.
Historically, this was done using a JIRA ticket, but now we have a living document on &lt;a href=&quot;https://www.atlassian.com/software/confluence&quot;&gt;Confluence&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We’re also keeping more tightly in sync over video calls - historically, if you were parterned with someone in a different timezone, this was normal - now it’s the case for all of us, whether you’re 5 or 5000 miles apart.&lt;/p&gt;</content><author><name>sheenaajay</name></author><category term="module updates" /><category term="community" /><category term="litmus" /><category term="facter" /><category term="testing" /><category term="pdk" /><summary type="html">The IAC team has been working on a lot of interesting things over the past week. Here’s a brief overview of what we’ve been up to:</summary></entry><entry><title type="html">How to use agent-side information on the puppetserver</title><link href="https://puppetlabs.github.io/iac/module/development/2020/03/18/how-to-use-agent-information-on-puppetserver.html" rel="alternate" type="text/html" title="How to use agent-side information on the puppetserver" /><published>2020-03-18T00:00:00+00:00</published><updated>2020-03-18T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/module/development/2020/03/18/how-to-use-agent-information-on-puppetserver</id><content type="html" xml:base="https://puppetlabs.github.io/iac/module/development/2020/03/18/how-to-use-agent-information-on-puppetserver.html">&lt;p&gt;This question was posted on the &lt;a href=&quot;https://slack.puppet.com/&quot;&gt;Puppet Community Slack&lt;/a&gt; yesterday:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Is there any way like the below in puppet code we can use:&lt;/p&gt;
  &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$var=‘run command locally on agent, if $?=0 echo “present”, else echo “absent”’
if $var == present {
  # my code
} else {
  # something else
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
  &lt;p&gt;(by user &lt;a href=&quot;https://app.slack.com/team/URGFPBS0N&quot;&gt;IlovPuppet&lt;/a&gt;, edited for presentation)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;There are a number of reasons why this question comes up.
First is likely that folks are not aware of the options available at all.
Then, sometimes, the common options (like custom facts) just don’t cut it for security or performance reasons.
Last but not least, organisational and technical circumstances can make one option more appealing than others.&lt;/p&gt;

&lt;p&gt;From my answer there, I wrote up a more detailed exposition here.
Based on the specifics of your situation,
there are several different options to solve this,
described in detail below:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;make the decision explicit&lt;/li&gt;
  &lt;li&gt;a &lt;code class=&quot;highlighter-rouge&quot;&gt;Deferred&lt;/code&gt; function call&lt;/li&gt;
  &lt;li&gt;using &lt;code class=&quot;highlighter-rouge&quot;&gt;onlyif&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;unless&lt;/code&gt; on an &lt;code class=&quot;highlighter-rouge&quot;&gt;exec&lt;/code&gt; resource&lt;/li&gt;
  &lt;li&gt;a custom fact&lt;/li&gt;
  &lt;li&gt;a custom resource&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;explicit-decisions&quot;&gt;Explicit Decisions&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;What is it?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Puppet shines when we can make our configuration decisions explicit.
Make the dynamic decision a static configuration and ensure that whatever is producing the different states is also managed by puppet.
Having a hard look at what the command is trying to decide and whether this couldn’t be enforced instead of queried can save complexity.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A simple example from my past as a technical consultant is a client who wanted to base a configuration decision off whether or not a particular package was installed on a workstation. In this particular case it turned out that installing that additional package was not very expensive (compared to coding up a dynamic solution), so we just rolled out the package to everyone and removed another thing that was different across the fleet.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Use it …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;if you can take control of the source of your question.&lt;/li&gt;
  &lt;li&gt;if you can key off another configuration instead of querying active system state.&lt;/li&gt;
  &lt;li&gt;if you can make your general configuration easier by removing a source of variation.&lt;/li&gt;
  &lt;li&gt;if the query code is difficult and/or unreliable.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Don’t use it if …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the input is truly dynamic.&lt;/li&gt;
  &lt;li&gt;the configuration is outside of your organisational scope (but try talking to the other team first!).&lt;/li&gt;
  &lt;li&gt;the computed value is sensitive and should not be transmitted or stored outside the node.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;deferred&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Deferred&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;What is it?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;Deferred&lt;/code&gt; function computes a value on the agent everytime the catalog is executed and uses the value immediately in the catalog.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://forge.puppet.com/puppet/vault_lookup&quot;&gt;puppet/vault_lookup&lt;/a&gt; module shows how to use &lt;code class=&quot;highlighter-rouge&quot;&gt;Deferred&lt;/code&gt; with its &lt;code class=&quot;highlighter-rouge&quot;&gt;vault_lookup::lookup&lt;/code&gt; function:&lt;/p&gt;

&lt;div class=&quot;language-puppet highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Deferred&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'vault_lookup::lookup'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;secret/test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'https://vault.hostname:8200'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;notify&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;example&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;py&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$d&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(from &lt;a href=&quot;https://github.com/voxpupuli/puppet-vault_lookup#usage&quot;&gt;voxpupuli/puppet-vault_lookup&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Use it …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;for values specific to one or a few agents, for which managing via Hiera would be cumbersome.&lt;/li&gt;
  &lt;li&gt;for sensitive values that should not be exposed outside the individual agent.&lt;/li&gt;
  &lt;li&gt;for setting properties on resources.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Don’t use it if …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;you need to change &lt;strong&gt;which&lt;/strong&gt; resources are managed.&lt;/li&gt;
  &lt;li&gt;you need the value in PE Console for classification or reporting.&lt;/li&gt;
  &lt;li&gt;the computed value depends on resources managed earlier in the catalog.&lt;/li&gt;
  &lt;li&gt;a simpler solution (see above) works.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Further Reading&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://puppet.com/docs/puppet/latest/write_a_puppet_function_to_store_secrets.html&quot;&gt;Write a Puppet function to store secrets&lt;/a&gt;: the original use-case for &lt;code class=&quot;highlighter-rouge&quot;&gt;Deferred&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://puppet-on-the-edge.blogspot.com/2018/10/the-topic-is-deferred.html&quot;&gt;The Topic is Deferred&lt;/a&gt;: blogpost with hints and tricks how to use &lt;code class=&quot;highlighter-rouge&quot;&gt;Deferred&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://binford2k.com/2019/11/12/deferred-functions/&quot;&gt;Agent Side Functions in Puppet 6&lt;/a&gt;: technical deep-dive on how &lt;code class=&quot;highlighter-rouge&quot;&gt;Deferred&lt;/code&gt; works&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.hashicorp.com/resources/agent-side-lookups-with-hashicorp-vault-puppet-6&quot;&gt;HashiCorp Vault 🧡 Puppet6 webinar&lt;/a&gt;: deferred functions in Puppet 6, which unlocks new authentication methods and workflows for HashiCorp Vault + Puppet setups.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;exec-resources&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;exec&lt;/code&gt; resources&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;What is it?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;exec&lt;/code&gt; resource has attributes to dynamically decide to run the managed command or not.
By passing a command to &lt;code class=&quot;highlighter-rouge&quot;&gt;onlyif&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;unless&lt;/code&gt; the command is executed &lt;em&gt;only if&lt;/em&gt; or &lt;em&gt;unless&lt;/em&gt; the condition successfully executes.
Use &lt;code class=&quot;highlighter-rouge&quot;&gt;refreshonly&lt;/code&gt; to react to another resource being changed.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://forge.puppet.com/puppetlabs/mysql&quot;&gt;mysql module&lt;/a&gt; has this &lt;code class=&quot;highlighter-rouge&quot;&gt;exec&lt;/code&gt; resource to clean up after installation. This should never run after &lt;code class=&quot;highlighter-rouge&quot;&gt;${secret_file}&lt;/code&gt; has been dealt with.&lt;/p&gt;
&lt;div class=&quot;language-puppet highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'remove install pass'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;py&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$rm_pass_cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;py&quot;&gt;onlyif&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;test -f &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;${secret_file}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;py&quot;&gt;path&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin'&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(from &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-mysql/blob/312aca80ba7699ab37f9051d871aac2e05b217b3/manifests/server/root_password.pp#L20-L24&quot;&gt;root_password.pp&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Use it for …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;running one-off commands on a condition.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Don’t use it if …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;an exec is not a good fit for your problem.&lt;/li&gt;
  &lt;li&gt;the condition is very complex or timeconsuming.&lt;/li&gt;
  &lt;li&gt;the condition has to be repeated often.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Further Reading&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://puppet.com/docs/puppet/latest/types/exec.html&quot;&gt;Resource Type: &lt;code class=&quot;highlighter-rouge&quot;&gt;exec&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;custom-facts&quot;&gt;Custom Facts&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;What is it?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Custom facts are distributed to Puppet clients and are available for use in manifests and templates,
just like any other fact is.
They can be used to write conditional expressions based on site-specific data that isn’t available via Facter.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The apt module has a few &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-apt#facts&quot;&gt;custom facts&lt;/a&gt;. The &lt;code class=&quot;highlighter-rouge&quot;&gt;apt_update_last_success&lt;/code&gt; fact is used in &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-apt/blob/master/manifests/update.pp&quot;&gt;update.pp&lt;/a&gt; to decide whether or not it is necessary to update apt caches depending on the various configurations specified.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Use it …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;when you need to centrally collect and evaluate the values.&lt;/li&gt;
  &lt;li&gt;when you want to get the value from all your nodes.&lt;/li&gt;
  &lt;li&gt;to change the set of resources and classes included for each node.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Don’t use it if …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the computed value is sensitive and should not be transmitted or stored outside the node.&lt;/li&gt;
  &lt;li&gt;a simpler solution (see above) works.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Further Reading&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://puppet.com/docs/puppet/latest/fact_overview.html&quot;&gt;Custom facts&lt;/a&gt;: the current puppet documentation&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://puppet.com/docs/puppet/latest/custom_facts.html&quot;&gt;Custom facts walkthrough&lt;/a&gt;: how to write your own facts&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://glennsarti.github.io/blog/puppet-ruby-facts/&quot;&gt;Starting out with Puppet custom facts&lt;/a&gt;: a quick start to converting external facts to ruby custom facts on Windows&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;custom-resources&quot;&gt;Custom Resources&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;What is it?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;With a native ruby plugin you can fully take control of how puppet manages a resource. Through this you get fine-grained control over reporting and enforcing system state through puppet.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://forge.puppet.com/puppetlabs/mysql&quot;&gt;mysql module&lt;/a&gt; contains custom types and providers to control databases, users and grants.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Note that the mysql module is still using the low-level API. Using the PDK and the Resource API, programming types and providers has become a lot easier as of late. Check out the “Further Reading” section below.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;Use it for …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;things that can be modeled as a puppet resource.&lt;/li&gt;
  &lt;li&gt;fine-grained control.&lt;/li&gt;
  &lt;li&gt;full integration into the puppet tooling.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Don’t use it if …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;you do not want to code ruby.&lt;/li&gt;
  &lt;li&gt;a simpler solution (see above) works.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Further Reading&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://puppet.com/docs/puppet/latest/custom_resources.html&quot;&gt;Custom Resources&lt;/a&gt;: main documentation on writing custom resources.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppet-resource_api/tree/master/docs&quot;&gt;HUE hands on lab&lt;/a&gt;: hands-on lab for a custom remote resource interacting with a API.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;final-words&quot;&gt;Final Words&lt;/h2&gt;

&lt;p&gt;To summarize, Puppet provides you with a number of alternatives to make your configuration smarter.
Thanks to IluvPuppet for the great question, and &lt;a href=&quot;https://github.com/hpcprofessional&quot;&gt;Paul Anderson&lt;/a&gt; and Paul Reed for reviewing and feedback.&lt;/p&gt;</content><author><name>dev_el_ops</name></author><category term="modules" /><category term="puppetserver" /><category term="custom facts" /><category term="custom resources" /><category term="deferred" /><summary type="html">This question was posted on the Puppet Community Slack yesterday:</summary></entry><entry><title type="html">13th March 2020: IAC Team Status Update</title><link href="https://puppetlabs.github.io/iac/team/status/2020/03/13/status-update.html" rel="alternate" type="text/html" title="13th March 2020: IAC Team Status Update" /><published>2020-03-13T00:00:00+00:00</published><updated>2020-03-13T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/team/status/2020/03/13/status-update</id><content type="html" xml:base="https://puppetlabs.github.io/iac/team/status/2020/03/13/status-update.html">&lt;p&gt;The IAC team has been working on a lot of interesting things over the past week.
Here’s a brief overview of what we’ve been up to:&lt;/p&gt;

&lt;h2 id=&quot;updates-to-puppet-modules&quot;&gt;Updates to Puppet Modules&lt;/h2&gt;

&lt;p&gt;Over the last week we have released:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/apt&quot;&gt;puppetlabs/apt&lt;/a&gt; (v7.4.1)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;community&quot;&gt;Community&lt;/h2&gt;

&lt;p&gt;A big thank you goes out to &lt;a href=&quot;https://github.com/glennsarti&quot;&gt;Glenn Sarti&lt;/a&gt; for the work he has done in removing the PDK dependency from Litmus.
Also we would like to thank &lt;a href=&quot;https://github.com/anarcat&quot;&gt;Antoine&lt;/a&gt; and &lt;a href=&quot;https://tickets.puppetlabs.com/secure/ViewProfile.jspa?name=dhs%40recommind.com&amp;amp;selectedTab=com.atlassian.streams.streams-jira-plugin:user-profile-stream-panel&quot;&gt;Dirk Heinrichs&lt;/a&gt; for their help in resolving the file permission issues on the &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-apt&quot;&gt;puppetlabs-apt&lt;/a&gt; module.&lt;/p&gt;

&lt;h2 id=&quot;customer-escalations&quot;&gt;Customer Escalations&lt;/h2&gt;

&lt;p&gt;Over the past week we have closed out two issues on the &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-apt&quot;&gt;puppetlabs-apt&lt;/a&gt; module. As a result of these two tickets &lt;a href=&quot;https://tickets.puppetlabs.com/browse/MODULES-10548&quot;&gt;MODULES-10548&lt;/a&gt; and &lt;a href=&quot;https://tickets.puppetlabs.com/browse/MODULES-10583&quot;&gt;MODULES-10583&lt;/a&gt; we have decided to remove the file permissions management from the module implementation.&lt;/p&gt;

&lt;p&gt;We have also merged a PR that will remove the strftime function from the &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-stdlib&quot;&gt;puppetlabs-stdlib&lt;/a&gt; module as this function has been deprecated and superseded by a function withing the Puppet agent, see &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-547&quot;&gt;IAC-547&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;litmus-progress&quot;&gt;Litmus Progress&lt;/h2&gt;

&lt;p&gt;We have released &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/releases/tag/0.16.0&quot;&gt;Litmus version 0.16.0&lt;/a&gt; that contains a couple of nice fixes and removes dependency on PDK - &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md&quot;&gt;CHANGELOG&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;On &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-vsphere&quot;&gt;puppetlabs-vsphere&lt;/a&gt; we have finished the conversion to allow users to run acceptance tests using Litmus in &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-vsphere/pull/172&quot;&gt;puppetlabs-vsphere#172&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Finally the conversion for using Litmus for &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-docker&quot;&gt;puppetlabs-docker&lt;/a&gt; acceptance testing is ready to be merged in &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-docker/pull/585&quot;&gt;puppetlabs-docker#585&lt;/a&gt;.
As a result any future pull request to the docker module will also run the acceptance tests using Github Actions hosted runners on Ubuntu 16.04 and Ubuntu 18.04.
For running acceptance tests on Windows, the provision file of the module contains a item that uses a Windows Vagrant box for testing.&lt;/p&gt;</content><author><name>carabasdaniel</name></author><category term="module updates" /><category term="community" /><category term="litmus" /><category term="facter" /><category term="testing" /><category term="pdk" /><summary type="html">The IAC team has been working on a lot of interesting things over the past week. Here’s a brief overview of what we’ve been up to:</summary></entry><entry><title type="html">5th March 2020: IAC Team Status Update</title><link href="https://puppetlabs.github.io/iac/team/status/2020/03/05/status-update.html" rel="alternate" type="text/html" title="5th March 2020: IAC Team Status Update" /><published>2020-03-05T00:00:00+00:00</published><updated>2020-03-05T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/team/status/2020/03/05/status-update</id><content type="html" xml:base="https://puppetlabs.github.io/iac/team/status/2020/03/05/status-update.html">&lt;p&gt;The IAC team has been working on a lot of interesting things over the past week.
Here’s a brief overview of what we’ve been up to:&lt;/p&gt;

&lt;h2 id=&quot;updates-to-puppet-modules&quot;&gt;Updates to Puppet Modules&lt;/h2&gt;

&lt;p&gt;Over the last week we have released three different modules:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/apt&quot;&gt;puppetlabs/apt&lt;/a&gt; (v7.4.0)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/mysql&quot;&gt;puppetlabs/mysql&lt;/a&gt; (v10.4.0)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/reboot&quot;&gt;puppetlabs/reboot&lt;/a&gt; (v3.0.0)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;customer-escalations&quot;&gt;Customer Escalations&lt;/h2&gt;

&lt;p&gt;Over the past week we have closed out one major piece of customer escalation for the &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-350&quot;&gt;mysql&lt;/a&gt; module and we have also begun work on another that has been raised regarding the &lt;a href=&quot;https://tickets.puppetlabs.com/browse/MODULES-10581&quot;&gt;reboot&lt;/a&gt; module.&lt;/p&gt;

&lt;p&gt;Work has also been started on improvements to the SqlServer module, with multiple issues raised being worked on concurrently, said issues being detailed in the following tickets: &lt;a href=&quot;https://tickets.puppetlabs.com/browse/FM-8879&quot;&gt;FM-8879&lt;/a&gt;, &lt;a href=&quot;https://tickets.puppetlabs.com/browse/MODULES-3934&quot;&gt;MODULES-3934&lt;/a&gt; and &lt;a href=&quot;https://tickets.puppetlabs.com/browse/MODULES-5071&quot;&gt;MODULES-5071&lt;/a&gt;. Big thanks go out to Bill Hurt for his acceptance in this matter, his advice, guidance and the work he has put in directly have been invaluable.&lt;/p&gt;

&lt;h2 id=&quot;litmus-progress&quot;&gt;Litmus Progress&lt;/h2&gt;

&lt;p&gt;Our work on converting our tests to Litmus has been ongoing with one module, MySQL having been fully converted and another, vSphere being in the process of recieving its final reviews.&lt;/p&gt;

&lt;p&gt;Finally in regards to the progress we made with Docker we are facing some challenges in regards to Windows support but we have made good progress and expect even more in the future, the changes can be seen &lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-docker/pull/585&quot;&gt;in this PR&lt;/a&gt;.&lt;/p&gt;</content><author><name>david22swan</name></author><category term="module updates" /><category term="community" /><category term="litmus" /><category term="facter" /><category term="testing" /><category term="pdk" /><summary type="html">The IAC team has been working on a lot of interesting things over the past week. Here’s a brief overview of what we’ve been up to:</summary></entry><entry><title type="html">28th Feb 2020: IAC Team Status Update</title><link href="https://puppetlabs.github.io/iac/team/status/2020/02/28/status-update.html" rel="alternate" type="text/html" title="28th Feb 2020: IAC Team Status Update" /><published>2020-02-28T00:00:00+00:00</published><updated>2020-02-28T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/team/status/2020/02/28/status-update</id><content type="html" xml:base="https://puppetlabs.github.io/iac/team/status/2020/02/28/status-update.html">&lt;p&gt;The IAC team has been working on a lot of interesting things over the past week.
Here’s a brief overview of what we’ve been up to:&lt;/p&gt;

&lt;h2 id=&quot;updates-to-puppet-modules&quot;&gt;Updates to Puppet Modules&lt;/h2&gt;

&lt;p&gt;No modules were released since last week.&lt;/p&gt;

&lt;h2 id=&quot;community-contributions&quot;&gt;Community Contributions&lt;/h2&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://github.com/jmangt&quot;&gt;@jmangt&lt;/a&gt; for their improvements to the provision module,
&lt;a href=&quot;https://github.com/puppetlabs/provision/pull/103&quot;&gt;adding support for sssh’ing to vagrant boxes where root is not allowed to ssh&lt;/a&gt; and &lt;a href=&quot;https://github.com/puppetlabs/provision/pull/101&quot;&gt;ensuring the vagrant provision task works against paths with spaces in them&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;concurrent-ruby-issues--patch&quot;&gt;Concurrent Ruby Issues &amp;amp; Patch&lt;/h2&gt;

&lt;p&gt;The &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-556&quot;&gt;ruby segfault problems in Travis discovered last week&lt;/a&gt; now have a &lt;a href=&quot;https://github.com/puppetlabs/puppet-module-gems/pull/124/files&quot;&gt;bandaid&lt;/a&gt;, released in &lt;a href=&quot;https://github.com/puppetlabs/puppet-module-gems/blob/master/CHANGELOG.md#044&quot;&gt;puppet-module-gems &lt;code class=&quot;highlighter-rouge&quot;&gt;0.4.4&lt;/code&gt;&lt;/a&gt; - this patch ensures that concurrent-ruby &lt;code class=&quot;highlighter-rouge&quot;&gt;1.1.6&lt;/code&gt; is not installed. This has restored CI functionality for us.&lt;/p&gt;

&lt;h2 id=&quot;weekly-test-runs&quot;&gt;Weekly Test Runs&lt;/h2&gt;

&lt;p&gt;Numerous PRs went through this week to ensure 44 modules (all those supported modules which have been converted to Litmus so far) run weekly tests via GitHub Actions.
These tests run against the master branch executing the full test suite - all of the spec tests and then all of the acceptance tests against the full matrix of operating systems for that module (defined in the &lt;code class=&quot;highlighter-rouge&quot;&gt;release_checks&lt;/code&gt; section of the &lt;code class=&quot;highlighter-rouge&quot;&gt;provision.yaml&lt;/code&gt; for that module).&lt;/p&gt;

&lt;p&gt;These results are recorded to the &lt;a href=&quot;https://puppetlabs.github.io/community_management/&quot;&gt;Community Dashboard&lt;/a&gt; in the &lt;code class=&quot;highlighter-rouge&quot;&gt;Github Actions Report&lt;/code&gt; tab, which shows the test results for the last five runs for each workflow and module.
Right now, these results are recorded fairly simply, listing the run number, the branch the tests ran against, and whether they passed or failed.
In the future, we will be improving the usefulness of this dashboard in numerous ways, but for now we just wanted a way to get some quick visualization for triage.&lt;/p&gt;

&lt;h2 id=&quot;updated-tools-pages&quot;&gt;Updated Tools Page(s)&lt;/h2&gt;

&lt;p&gt;This week we also updated the page on this site for the tools we maintain - each project header now also leads to a page for that tool with additional information.
We’ve collected some at-a-glance badges for each of the projects too.
We hope this will make keeping up with the available tooling a little easier!&lt;/p&gt;

&lt;h2 id=&quot;puppet-modulebuilder-gem-010-release&quot;&gt;puppet-modulebuilder Gem 0.1.0 Release&lt;/h2&gt;

&lt;p&gt;As we mentioned last week, we’ve &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-532&quot;&gt;been working&lt;/a&gt; with the PDE and Night Watch teams at Puppet on the &lt;a href=&quot;https://github.com/puppetlabs/puppet-modulebuilder&quot;&gt;puppet-modulebuilder&lt;/a&gt; gem, which has now &lt;a href=&quot;https://rubygems.org/gems/puppet-modulebuilder/versions/0.1.0&quot;&gt;been released&lt;/a&gt;!
This will carry the actual functionality for &lt;code class=&quot;highlighter-rouge&quot;&gt;pdk build&lt;/code&gt; and allow third-party tools to re-use the same functionality without having to pull in the whole PDK.
A new Litmus release is ongoing to take advantage of this new development!&lt;/p&gt;

&lt;p&gt;Thanks a lot to &lt;a href=&quot;https://github.com/glennsarti&quot;&gt;Glenn Sarti&lt;/a&gt; and &lt;a href=&quot;https://github.com/florindragos&quot;&gt;Florin Dragos&lt;/a&gt; for helping out with everything!&lt;/p&gt;

&lt;h2 id=&quot;facter-4-incoming&quot;&gt;Facter 4 Incoming&lt;/h2&gt;

&lt;p&gt;We started doing some prep work this week as &lt;a href=&quot;https://github.com/puppetlabs/facter-ng&quot;&gt;Facter&lt;/a&gt;’s next major update has &lt;a href=&quot;https://rubygems.org/gems/facter/versions/4.0.8.pre&quot;&gt;become available as prerelease&lt;/a&gt;.
Facter 4 is a return to Ruby from C++ which allows deeper integration with the rest of our modules and test-tooling, and easier hacking on the core facts.
First we’ve got some checking and verifying to do as this major version rolls out to ensure a smooth experience for everyone.
If you want to try it out in your module’s unit tests, specify &lt;code class=&quot;highlighter-rouge&quot;&gt;FACTER_GEM_VERSION='4.0.8.pre'&lt;/code&gt; in your environment before any bundle or PDK commands.
Let us know in the &lt;a href=&quot;https://puppetcommunity.slack.com/archives/C0W1X7ZAL&quot;&gt;#puppet-dev&lt;/a&gt; channel on the &lt;a href=&quot;http://slack.puppet.com/&quot;&gt;community slack&lt;/a&gt; how it goes.&lt;/p&gt;

&lt;p&gt;We should have more on this in the near future, particularly any advice and guidance around what it will mean for you as module developers and consumers - the expected release date is March 11th, 2020!&lt;/p&gt;

&lt;h2 id=&quot;pdk-1170-release&quot;&gt;PDK 1.17.0 Release&lt;/h2&gt;

&lt;p&gt;A &lt;a href=&quot;https://github.com/puppetlabs/pdk/blob/master/CHANGELOG.md#v1170-2020-02-27&quot;&gt;new release of the PDK&lt;/a&gt; is here with initial support for control repos, system-level settings, and &lt;a href=&quot;https://github.com/puppetlabs/pdk-templates/compare/1.16.0...1.17.0&quot;&gt;numerous template updates&lt;/a&gt;!&lt;/p&gt;

&lt;h2 id=&quot;new-puppet-blog-on-de-forking-a-module&quot;&gt;New Puppet Blog on De-Forking a Module&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/genebean&quot;&gt;Gene Liverman&lt;/a&gt;, a senior SRE at Puppet, &lt;a href=&quot;https://puppet.com/blog/de-forking-a-puppet-module/&quot;&gt;wrote a blog post on the main Puppet blog this week for de-forking a Puppet module&lt;/a&gt; - essentially, what to do when you want to incorporate upstream changes back into a project you’ve forked.
Great work on a topic that comes up fairly often in the open source world!&lt;/p&gt;

&lt;h2 id=&quot;puppetcamp-berlin-2020&quot;&gt;PuppetCamp Berlin 2020&lt;/h2&gt;

&lt;p&gt;In two weeks the sold out &lt;a href=&quot;https://www.eventbrite.com/e/puppet-camp-berlin-tickets-84908295999&quot;&gt;PuppetCamp Berlin&lt;/a&gt; will happen at the AWS OpsWorks offices, with a great showing of folks from the community and Puppet.
If you’re one of the lucky ones with a ticket, come and say hi to Melissa Casburn, our UX architect, &lt;a href=&quot;https://github.com/binford2k&quot;&gt;@binford2k&lt;/a&gt;, community shepherd, and &lt;a href=&quot;https://github.com/DavidS&quot;&gt;@DavidS&lt;/a&gt;, tech lead of IAC.&lt;/p&gt;</content><author><name>michaeltlombardi</name></author><category term="module updates" /><category term="community" /><category term="litmus" /><category term="facter" /><category term="testing" /><category term="pdk" /><summary type="html">The IAC team has been working on a lot of interesting things over the past week. Here’s a brief overview of what we’ve been up to:</summary></entry><entry><title type="html">21st Feb 2020: IAC Team Status Update</title><link href="https://puppetlabs.github.io/iac/team/status/2020/02/21/status-update.html" rel="alternate" type="text/html" title="21st Feb 2020: IAC Team Status Update" /><published>2020-02-21T00:00:00+00:00</published><updated>2020-02-21T00:00:00+00:00</updated><id>https://puppetlabs.github.io/iac/team/status/2020/02/21/status-update</id><content type="html" xml:base="https://puppetlabs.github.io/iac/team/status/2020/02/21/status-update.html">&lt;p&gt;The IAC team has been working on a lot of interesting things over the past week.
Here’s a brief overview of what we’ve been up to:&lt;/p&gt;

&lt;h2 id=&quot;updates-to-puppet-modules&quot;&gt;Updates to Puppet Modules&lt;/h2&gt;

&lt;p&gt;We’ve released only one module since last week:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forge.puppet.com/puppetlabs/java&quot;&gt;puppetlabs/java&lt;/a&gt; (v6.2.0)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;community-contributions&quot;&gt;Community Contributions&lt;/h2&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://github.com/baurmatt&quot;&gt;@baurmatt&lt;/a&gt; for his change to the concat module,
&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-concat/pull/627&quot;&gt;adding support for Deferred function in concat fragment&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;approved-modules&quot;&gt;Approved Modules&lt;/h2&gt;

&lt;p&gt;This week we happily approved two new modules:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://forge.puppet.com/fervid/secure_linux_cis&quot;&gt;fervid/secure_linux_cis&lt;/a&gt; is a CIS hardening module for Linux servers by &lt;a href=&quot;https://www.fervid.us/&quot;&gt;fervid.us&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://forge.puppet.com/stackstorm/st2&quot;&gt;stackstorm/st2&lt;/a&gt; installs, configures and manages the eponymous &lt;a href=&quot;https://stackstorm.com&quot;&gt;StackStorm&lt;/a&gt; platform for event-driven runbook automation.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://forge.puppet.com/approved&quot;&gt;Puppet Approved&lt;/a&gt; modules are recommended by us for use with Puppet Open Source and Puppet Enterprise and meet our expectations for quality and usability.&lt;/p&gt;

&lt;h2 id=&quot;new-puppet-modulebuilder-gem&quot;&gt;New puppet-modulebuilder Gem&lt;/h2&gt;

&lt;p&gt;Work &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-532&quot;&gt;has started&lt;/a&gt; on creating a &lt;a href=&quot;https://github.com/puppetlabs/puppet-modulebuilder&quot;&gt;puppet-modulebuilder&lt;/a&gt; gem.
This will carry the actual functionality for &lt;code class=&quot;highlighter-rouge&quot;&gt;pdk build&lt;/code&gt; and allow third-party tools to re-use the same functionality without having to pull in the whole PDK.
We expect a first release early next week.
Follow &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-552&quot;&gt;IAC-552&lt;/a&gt; to get a notification when that happens.&lt;/p&gt;

&lt;p&gt;Thanks a lot to &lt;a href=&quot;https://github.com/glennsarti&quot;&gt;Glenn&lt;/a&gt; for helping out with the actual porting of the code.&lt;/p&gt;

&lt;h2 id=&quot;ongoing-litmus-conversions&quot;&gt;Ongoing Litmus Conversions&lt;/h2&gt;

&lt;p&gt;This week saw a flurry of PRs (through &lt;a href=&quot;https://github.com/puppetlabs/pdksync&quot;&gt;pdksync&lt;/a&gt;) to &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-215&quot;&gt;update all our modules&lt;/a&gt; to use the new &lt;code class=&quot;highlighter-rouge&quot;&gt;use_litmus&lt;/code&gt; support in &lt;a href=&quot;https://github.com/puppetlabs/pdk-templates&quot;&gt;pdk-templates&lt;/a&gt;.
This reduces the amount of configuration we need to carry in each module and validates the pdk-templates feature.&lt;/p&gt;

&lt;p&gt;As expected, the last remaining modules to convert to &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus&quot;&gt;Litmus&lt;/a&gt; were the ones we didn’t want to touch earlier for good reasons.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-powershell/pull/283&quot;&gt;powershell&lt;/a&gt; has been merged and is now running acceptance tests on Windows (appveyor), Linux and OS X (travis) in public.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-sqlserver/pull/345&quot;&gt;sqlserver&lt;/a&gt; is still resisting,
not the least because we found several areas where the previous test suite was ignoring warnings that we now want to address.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/puppetlabs/puppetlabs-vsphere/pull/172&quot;&gt;vsphere&lt;/a&gt; is progressing.
We don’t expect to enable PR-level testing on this one,
since it does require access to our internal VCenter.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you’re interested in porting a module to Litmus,
feel free to reach out to us during &lt;a href=&quot;https://puppet.com/community/office-hours/&quot;&gt;Office Hours&lt;/a&gt; - we’ll be glad to help!&lt;/p&gt;

&lt;p&gt;We’re also looking into updating litmus to make use of &lt;a href=&quot;https://github.com/puppetlabs/bolt/blob/master/CHANGELOG.md#bolt-200&quot;&gt;Bolt v2&lt;/a&gt;.
See &lt;a href=&quot;https://github.com/puppetlabs/puppet_litmus/pull/254&quot;&gt;puppetlabs/puppet_litmus#254&lt;/a&gt; if you want to follow along.&lt;/p&gt;

&lt;p&gt;This week also saw a number of ruby &lt;a href=&quot;https://travis-ci.org/puppetlabs/puppetlabs-mysql/jobs/653408974&quot;&gt;segfaults&lt;/a&gt; and &lt;a href=&quot;https://travis-ci.org/puppetlabs/puppetlabs-mysql/jobs/652904009&quot;&gt;deadlocks&lt;/a&gt; during acceptance testing:&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;448.03s$ bundle exec rake litmus:acceptance:parallel
Running against 3 targets.
./home/travis/build/puppetlabs/puppetlabs-mysql/vendor/bundle/ruby/2.5.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/atomic/ruby_thread_local_var.rb:113: [BUG] Segmentation fault at 0x000000000b4d76d5
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ bundle exec rake litmus:acceptance:parallel
Running against 2 targets.
.
No output has been received in the last 10m0s, this potentially indicates a stalled build or something wrong with the build itself.
Check the details on how to adjust your build configuration on: https://docs.travis-ci.com/user/common-build-problems/#build-times-out-because-no-output-was-received
The build has been terminated
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We’re still working on figuring out what changed recently to trigger these.&lt;/p&gt;

&lt;h2 id=&quot;refactoring-stdlib-to-puppet4-function-api&quot;&gt;Refactoring stdlib to Puppet4 function API&lt;/h2&gt;

&lt;p&gt;Off the back of Ben’s &lt;a href=&quot;https://binford2k.com/2019/11/27/automagic-function-port/&quot;&gt;blog on the Puppet4 function API&lt;/a&gt;,
work has started to move all functions in the &lt;a href=&quot;https://forge.puppet.com/puppetlabs/stdlib&quot;&gt;stdlib module&lt;/a&gt; to the “new” API.
To quote Ben:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Each modern Puppet 4.x function is just a little faster and just a little safer
to use, meaning that as we all port our functions over, compilation times across
the ecosystem will get more and more performant. Modern Puppet 4.x functions
have improved thread safety, memory management, and load time. Even more
importantly, they’re isolated to the environment they’re loaded from.&lt;/p&gt;

  &lt;p&gt;And as a developer, you’ll see benefits like namespaced function signatures,
automatic data type checking, multiple dispatches allowing you to easily handle
different kinds of function invocations, and vastly improved code reuse.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;If you want to follow along or provide feedback,
please avail yourself of &lt;a href=&quot;https://tickets.puppetlabs.com/browse/IAC-114&quot;&gt;IAC-114&lt;/a&gt;.&lt;/p&gt;</content><author><name>dev_el_ops</name></author><category term="module updates" /><category term="community" /><category term="approved" /><category term="litmus" /><category term="powershell" /><category term="sqlserver" /><category term="vsphere" /><category term="modulebuilder" /><category term="stdlib" /><summary type="html">The IAC team has been working on a lot of interesting things over the past week. Here’s a brief overview of what we’ve been up to:</summary></entry></feed>